These commands have been tested and work perfectly

This process must be done after having done the commands in termux

Don't copy lines with #

##### THIS SECTION IS NEEDED TO BE DONE VIA A PC #####

# Start TWRP recovery through the PC with the command
fastboot boot <twrp.img>

##### Push parted to sbin (temp storage) ######
adb push parted /sbin/

#### Start adb shell #####
adb shell

# Give parted correct permissions
chmod 755 /sbin/parted

# Change directory
cd /sbin

##### UNMOUNT ALL PARTITION VIA THE TWRP MOUNT MENU #####

# Start parted
parted /dev/block/sda

# Delete partitions rm {partition number}
rm 28

##### Create partitions #####

##### Create partitions (128Gb models) #####

# Creating the ESP partition (stores windows bootloader data and efi files)
mkpart esp fat32 11.8GB 12.2GB

# Creating the main windows partition where windows will be installed to
mkpart win ntfs 12.2GB 70.2GB

# Creating android's data partition
mkpart userdata ext4 70.2GB 127GB

##### Create partitions (256Gb models) #####

# Creating the ESP partition (stores windows bootloader data and efi files)
mkpart esp fat32 11.8GB 12.2GB

# Creating the main windows partition where windows will be installed to
mkpart win ntfs 12.2GB 132.2GB

# Creating android's data partition
mkpart userdata ext4 132.2GB 255GB

# Make ESP partiton bootable so the efi image can detect it
set 28 esp on

# Quit parted
quit

# Reboot to twrp

# Start adb shell again

adb shell

##### Format the new partitions #####

# Formatting the ESP partiton as FAT32
mkfs.fat -F32 -s1 /dev/block/by-name/esp

# Formatting the windows partition as NTFS
mkfs.ntfs -f /dev/block/by-name/win

# Exit adb shell
exit

##### Format from the twrp wipe by pressing format data and typing yes #####

##### Check if Android starts #####

##### With these commands your pc will be able to detect the mobile as a disk to carry out the installation (Have MTP disabled in Mount) #####

#Move msc.sh to internal memory
adb push msc.sh /sbin

# Start adb shell
adb shell

# Change directory
cd /sbin

# Execute script
sh ./msc.sh

# Exit adb shell
exit

##### Once the X3 pro is detected as a disk #####

##### Open cmd as administrator #####

# This will start the windows disk management tool
diskpart

# List all disks
list disk

##### The X3 Pro should be the last disk usually #####

# Select the disk that is your X3 Pro
sel disk {disk number found via previous command}

# Select the volume where we are going to install Windows
sel vol 3

# We assign the letter x to the volume where we are going to install Windows
assign letter=x

# Select the volume where we will install the windows bootloader and efi
sel vol 4

# We assign the letter and the volume where we will install the windows bootloader and efi
assign letter=y

#### Install Windows 11 on the X3 Pro (replace "PathToInstall.wim" to ur install.wim path, install.wim is located in sources folder after extracting your arm64 iso) #####

dism /apply-image /ImageFile:"pathtoinstall.wim" /index:1 /ApplyDir:X:\

# Install drivers (replace vayudriversfolder with the location of the drivers folder)(open in cmd as administrator)
.\driverupdater.exe -d (vayudriversfolder)\definitions\Desktop\ARM64\Internal\vayu.txt -r (vayudriversfolder) -p X:

# this is to create windows bootloader files for the EFI
bcdboot X:\Windows /s Y: /f UEFI

# Allow unsigned driver, if u don't do this you'll get a blue screen
bcdedit /store Y:\EFI\Microsoft\BOOT\BCD /set {default} testsigning on

# This command is optional, but it is to bring up a boot menu
bcdedit /store Y:\EFI\Microsoft\BOOT\BCD /set {bootmgr} displaybootmenu yes

##### Boot with Windows bootable UEFI image #####

fastboot flash boot (device uefi.img)

##### Finished! #####

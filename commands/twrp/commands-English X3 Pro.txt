These commands have been tested and work perfectly

This process must be done after having done the commands in termux

Start TWRP recovery through the PC with the command
fastboot boot <twrp.img>

Don't copy lines with #

#####push partitioned script to sdcard######
adb push partitioned /sdcard/

####start adb shell#####
adb shell

#####move parted to sbin directory###
cp /sdcard/parted /sbin/ && chmod 755 /sbin/parted

#unmount data and sdcard
umount /data && umount /sdcard

#Start partition
partitioned /dev/block/sda

#Delete partitions rm {partition number} #
rm 32

#####Create partitions#########

#Create partitions (256Gb models, Not yet available for 128Gb)
mkpart esp fat32 11.8GB 12.2GB
mkpart win ntfs 12.2GB 92.2GB
mkpart userdata ext4 92.2GB 255GB


#set esp on
set 28 esp on

#Quit
quit

#reboot to recovery twrp

#format the new partitions

mkfs.fat -F32 -s1 /dev/block/by-name/esp

mkfs.ntfs -f /dev/block/by-name/win

#format from twrp

#Check if Android starts

##with these commands your pc will be able to detect the mobile as a disk to carry out the installation (Have MTP disabled in Mount)

#Move msc.sh to internal memory
adb push msc.sh /sdcard

#start shell
adb shell

# indicate that we want to use the root
cd/sd card

#I don't know what they do but they work xd
chmod +x msc.sh

./msc.sh

###############Boots with Windows bootable UEFI image##############

fastboot flash boot (device uefi.img)

